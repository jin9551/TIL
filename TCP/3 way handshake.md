TCP의 **3-way handshake**는 두 컴퓨터 간에 **신뢰성 있는 연결을 설정하기 위해** 사용되는 절차입니다. 이 과정은 클라이언트와 서버가 통신을 시작하기 전에 서로를 확인하고, 초기 순서 번호를 교환하여 **세션을 초기화**하는 역할을 합니다. 총 세 단계로 이루어져 있어서 **3-way**라고 불립니다.

---

### 📡 1단계: SYN (Synchronize)

* **클라이언트 → 서버**
* 클라이언트는 연결을 요청하며 **SYN 플래그**가 설정된 패킷을 보냅니다.
* 이때 클라이언트는 자신의 **초기 순서 번호(ISN)** 를 설정해서 함께 전송합니다.

```
Client: SYN, SEQ=x
```

---

### 📡 2단계: SYN + ACK (Synchronize + Acknowledge)

* **서버 → 클라이언트**
* 서버는 클라이언트의 요청을 수락하고, **SYN + ACK 플래그**가 설정된 패킷을 보냅니다.
* 클라이언트의 순서 번호를 확인했다는 의미로 **ACK (x+1)** 을 보내며,
  동시에 자신의 초기 순서 번호(ISN)를 담아 **SYN도 같이** 보냅니다.

```
Server: SYN, ACK, SEQ=y, ACK=x+1
```

---

### 📡 3단계: ACK (Acknowledge)

* **클라이언트 → 서버**
* 클라이언트는 서버의 응답을 확인하고, **ACK 플래그**가 설정된 패킷을 보냅니다.
* 서버의 순서 번호에 대한 응답으로 **ACK (y+1)** 를 전송합니다.

```
Client: ACK, SEQ=x+1, ACK=y+1
```

---

### 🔐 결과: 연결 확립

* 클라이언트와 서버는 이제 서로를 확인했고, **연결이 성립**된 상태입니다.
* 이 후 데이터 송수신이 가능해집니다.

---

### 📌 요약 도식

```
[Client] --------- SYN ------------> [Server]
[Client] <------ SYN + ACK -------- [Server]
[Client] --------- ACK ------------> [Server]
```

---

### ✅ 목적

* 세션 초기화 (초기 순서 번호 설정)
* 서로가 살아 있고 연결이 가능함을 확인
* 중간에 패킷 유실이나 위조 방지

필요하면 연결 해제 과정인 **4-way handshake**도 이어서 설명해줄게!
