# Process와 Thread

> 참조 : https://www.youtube.com/watch?v=x-Lp-h_pf9Q&list=WL&index=2

---

### 📌 핵심 요약

1. **프로세스(Process)의 개념**

   * 운영체제에서 **독립된 실행 단위**, 각자 \*\*가상 메모리 공간(Virtual Memory Space)\*\*을 가짐.
   * 예: 한 가구(Process)에게 할당된 집(Virtual Memory) 

2. **스레드(Thread)의 개념**

   * 하나의 프로세스 내부에서 실행되는 **경량 실행 단위**.
   * 프로세스 메모리를 **공유하면서 동시에 실행 흐름이 분기됨** (스택, 레지스터 등은 별도 유지).
   * 각 프로세스는 Thread Local Storage라는 걸 가짐. (집 안에 있는 3명의 사람들이 가진 각자의 방). 그리고 이 로컬 저장 공간은 스택 구조로 관리됨
   * **heap**은 집(Process)의 거실같이 **공용으로 사용되는 메모리 공간**이다.

   > 프로세스는 최소 1개의 스레드를 가진다.

3. **멀티 프로세스 vs 멀티 스레드**

   * **멀티 프로세스**: 서로 다른 가상 메모리 공간을 사용하여 분리된 동작.
   * **멀티 스레드**: 프로세스 내부 공간을 공유하며, 동시성(concurrency)을 위해 여러 스레드 사용.

4. **스레드의 자원 할당**

   * 각 스레드는 **자기만의 스택(stack)과 레지스터 집합**을 보유하지만, **힙(heap)** 등은 공유.
   * “TLS(Thread-Local Storage)”로 스레드별 고유 저장소도 존재 

5. **운영체제 스케줄링 방식**

   * CPU는 \*\*스레드 단위로 시간 분할(multi-tasking)\*\*하여 스레드들을 번갈아 실행.
   * 실제 병렬 처리와 유사하게 동작하지만, 코어 수에 따라 물리적 병렬은 제한됨.

6. **가상 메모리와 물리 메모리의 관계**

   * 프로세스는 **가상 메모리**를 사용하며, OS가 이를 물리 메모리(RAM + 스왑)로 맵핑.
   * 가상 메모리 덕분에 각 프로세스는 **독립된 메모리 공간**처럼 동작 가능 
        * 가상 메모리는 RAM(1차 메모리)+하드 디스크(2차 메모리, 페이징 스페이스)를 합하여 하나의 메모리처럼 사용하는 기술이다.

7. **동시성 및 동기화 이슈**
   * **동시성**은 **여러 작업이 동시에 진행**되는 것처럼 보이는 현상을 의미하며, **동기화**는 이러한 **여러 작업이 동시에 진행될 때 데이터의 일관성을 유지**하기 위해 작업 실행 순서를 제어하는 메커니즘
   * 스레드 간 메모리 공유로 **경쟁 상태(race condition)**, **동기화 필요성** 발생.
   * 프로세스 간 분리 덕에 상대적으로 안전하지만, **메모리 복사** 등의 오버헤드 존재.

8. **컨텍스트 스위칭(Context Switching)**

   * 스레드 간 전환은 **스택과 레지스터 정보의 저장/복원**을 통해 이루어짐.
   * **프로세스 전환보다 경량**이지만, 여전히 비용이 존재.

9. **사용자 모드 vs 커널 모드**

   * 스레드/프로세스 실행은 **OS 커널이 관리**하며, 사용자 모드와 커널 모드로 나뉘어 동작.
   * 각 스레드는 **CPU와 메모리 자원을 OS로부터 할당**받아 동작함.

10. **요약 구조도**

* **프로세스 = 집 하나**, **스레드 = 그 집 안에서 여러 명의 가족(작업자)**.
* 프로세스는 **공간 단위**, 스레드는 **실행 흐름 단위**로 이해하면 편함.

---
