# AWS Cloudformationμ΄λ€?

AWS CloudFormationμ€ **AWS λ¦¬μ†μ¤λ¥Ό μ½”λ“λ΅ μ •μν•κ³  μλ™μΌλ΅ μƒμ„±, μ—…λ°μ΄νΈ, μ‚­μ ν•  μ μκ² ν•΄μ£Όλ” μΈν”„λΌμ¤νΈλ­μ² μλ™ν™” μ„λΉ„μ¤**μ…λ‹λ‹¤. μ‰½κ² λ§ν•΄, μΈν”„λΌλ¥Ό μ½”λ“(Infrastructure as Code, IaC)λ΅ κ΄€λ¦¬ν•  μ μκ² ν•΄μ£Όλ” λ„κµ¬μ…λ‹λ‹¤.

---

## β… ν•µμ‹¬ κ°λ… μ”μ•½

| ν•­λ©              | μ„¤λ…                           |
| --------------- | ---------------------------- |
| **λ©μ **          | AWS λ¦¬μ†μ¤λ¥Ό μ½”λ“λ΅ μ„ μ–Έν•κ³  μΌκ΄€λκ² ν”„λ΅λΉ„μ €λ‹ |
| **ν•μ‹**          | JSON λλ” YAML ν•μ‹μ ν…ν”λ¦Ώ         |
| **κ΄€λ¦¬ λ‹¨μ„**       | Stack (λ¦¬μ†μ¤μ λ…Όλ¦¬μ  κ·Έλ£Ή)          |
| **IaC λ„κµ¬μ™€μ μ°¨μ΄** | Terraform λ“±κ³Ό λΉ„μ·ν•μ§€λ§ AWS μ „μ© λ„κµ¬ |

---

## π§± λ™μ‘ κµ¬μ΅°

1. **CloudFormation Template μ‘μ„±**

   * YAML λλ” JSONμΌλ΅ μ‘μ„±
   * μ–΄λ–¤ λ¦¬μ†μ¤(VPC, EC2, S3 λ“±)λ¥Ό μ–΄λ–¤ μ†μ„±μΌλ΅ λ§λ“¤μ§€ μ„ μ–Έ

2. **Stack μƒμ„±**

   * ν…ν”λ¦Ώμ„ κΈ°λ°μΌλ΅ CloudFormationμ΄ μλ™μΌλ΅ λ¦¬μ†μ¤ μƒμ„±
   * μƒμ„±λ λ¦¬μ†μ¤λ” Stack λ‹¨μ„λ΅ κ΄€λ¦¬λ¨

3. **λ³€κ²½ κ΄€λ¦¬**

   * ν…ν”λ¦Ώ μμ • ν›„ Stack μ—…λ°μ΄νΈ β†’ λ³€κ²½ μ‚¬ν•­λ§ μ μ©λ¨ (Change SetμΌλ΅ κ²€ν†  κ°€λ¥)

4. **μ‚­μ **

   * Stack μ‚­μ  μ‹, ν¬ν•¨λ λ¦¬μ†μ¤λ“¤λ„ ν•¨κ» μ κ±°λ¨

---

## π“„ μμ‹ (κ°„λ‹¨ν• EC2 μΈμ¤ν„΄μ¤ μƒμ„± ν…ν”λ¦Ώ - YAML)

```yaml
AWSTemplateFormatVersion: '2010-09-09'
Description: EC2 μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” μμ 

Resources:
  MyEC2Instance:
    Type: AWS::EC2::Instance
    Properties:
      InstanceType: t2.micro
      ImageId: ami-0abcdef1234567890
```

---

## π›  μ£Όμ” κµ¬μ„± μ”μ†

| κµ¬μ„± μ”μ†           | μ„¤λ…                                        |
| --------------- | ----------------------------------------- |
| **Template**    | λ¦¬μ†μ¤λ¥Ό μ •μν• νμΌ (JSON/YAML)                   |
| **Stack**       | ν•λ‚μ ν…ν”λ¦ΏμΌλ΅ μƒμ„±λ λ¨λ“  λ¦¬μ†μ¤ κ·Έλ£Ή                   |
| **Parameters**  | ν…ν”λ¦Ώμ μ…λ ¥κ°’ (μ¬μ‚¬μ© κ°€λ¥μ„± β†‘)                      |
| **Mappings**    | λ¦¬μ „λ³„ κ°’ λ§¤ν•‘ λ“±                                |
| **Conditions**  | νΉμ • μ΅°κ±΄μΌ λ•λ§ λ¦¬μ†μ¤ μƒμ„±                          |
| **Outputs**     | Stack μƒμ„± ν›„ λ…Έμ¶ν•κ³  μ‹¶μ€ μ •λ³΄ (μ: EC2μ Public IP) |
| **Change Sets** | μ—…λ°μ΄νΈ μ „ λ³€κ²½ λ‚΄μ—­μ„ λ―Έλ¦¬ κ²€ν†  κ°€λ¥                    |

---

## π’΅ μ¥μ 

* **μλ™ν™”**: λ³µμ΅ν• λ¦¬μ†μ¤ μƒμ„± κ³Όμ •μ„ μλ™ν™”
* **μΌκ΄€μ„±**: κ°™μ€ ν…ν”λ¦ΏμΌλ΅ λ°λ³µ λ°°ν¬ κ°€λ¥
* **λ²„μ „ κ΄€λ¦¬ κ°€λ¥**: IaCλ΅ κ΄€λ¦¬ν•λ©΄μ„ Git λ“±μΌλ΅ λ²„μ „ μ¶”μ 
* **λ΅¤λ°± μ§€μ›**: μ‹¤ν¨ μ‹ μλ™ λ΅¤λ°±

---

## β οΈ μ£Όμν•  μ 

* **λ³µμ΅ν• ν…ν”λ¦Ώ**μ€ λ””λ²„κΉ…μ΄ μ–΄λ ¤μΈ μ μμ
* **λ¦¬μ†μ¤ μμ΅΄μ„±**μ„ λ…ν™•ν μ§€μ •ν•μ§€ μ•μΌλ©΄ μμ„ μ¤λ¥ λ°μƒ κ°€λ¥
* **μ™Έλ¶€ λ¦¬μ†μ¤** (μ: μλ™ μƒμ„±λ λ¦¬μ†μ¤)μ™€ μ¶©λ κ°€λ¥

---

## π† Terraformκ³Όμ λΉ„κµ

| ν•­λ©      | CloudFormation | Terraform                              |
| ------- | -------------- | -------------------------------------- |
| λ²”μ©μ„±     | AWS μ „μ©         | λ©€ν‹° ν΄λΌμ°λ“ μ§€μ› (AWS, GCP λ“±)                |
| μ„ μ–Έ μ–Έμ–΄   | YAML, JSON     | HashiCorp Configuration Language (HCL) |
| μƒνƒ κ΄€λ¦¬   | AWS λ‚΄λ¶€μ—μ„ μλ™ κ΄€λ¦¬ | λ΅μ»¬ λλ” μ›κ²© μƒνƒ νμΌλ΅ μλ™ κ΄€λ¦¬ ν•„μ”               |
| μ»¤λ®¤λ‹ν‹° μ§€μ› | AWS κ³µμ‹ μ§€μ›      | μ¤ν”μ†μ¤ μ»¤λ®¤λ‹ν‹° μ¤‘μ‹¬                           |

---

## π“ μ–Έμ  μ“°λ©΄ μΆ‹μ€κ°€?

* AWSμ—λ§ μ§‘μ¤‘λ μΈν”„λΌλ¥Ό μ½”λ“λ΅ κ΄€λ¦¬ν•κ³  μ‹¶μ€ κ²½μ°
* EC2, RDS, VPC λ“± AWS λ¦¬μ†μ¤λ¥Ό λ°λ³µμ μΌλ΅ μƒμ„±/μ‚­μ ν•΄μ•Ό ν•λ” κ²½μ°
* CI/CDμ™€ ν†µν•©ν•΄ μλ™ λ°°ν¬ νμ΄ν”„λΌμΈμ„ κµ¬μ„±ν•κ³  μ‹¶μ€ κ²½μ°

---


# μ‚¬μ© μ¤‘μΈ λ¨λ“  λ¦¬μ†μ¤λ¥Ό μ™ μ¤νƒμ΄λΌ λ¶€λ¥΄λ”κ°€?

**AWS CloudFormationμ—μ„ β€μ¤νƒ(Stack)β€™μ΄λΌκ³  λ¶€λ¥΄λ” μ΄μ **λ” \*\*"μ„λ΅ μ—°κ΄€λ λ¦¬μ†μ¤λ“¤μ λ…Όλ¦¬μ μΈ λ¬¶μ"\*\*μ΄κΈ° λ•λ¬Έμ΄μ•Ό.

---

## π“ μ™ "Stack"μ΄λΌκ³  λ¶€λ¥΄λ”κ°€?

### 1. **ν•λ‚μ ν…ν”λ¦Ώ β†’ μ—¬λ¬ λ¦¬μ†μ¤ μƒμ„±**

CloudFormation ν…ν”λ¦Ώ ν•λ‚λ΅ λ‹¤μκ³Ό κ°™μ΄ μ—¬λ¬ λ¦¬μ†μ¤λ¥Ό ν• λ²μ— λ§λ“¤ μ μμ:

* VPC
* Subnet
* Security Group
* EC2
* IAM Role
* RDS β€¦

μ΄λ ‡κ² ν• λ²μ— λ°°ν¬λ λ¦¬μ†μ¤ λ¬¶μμ„ **Stack**μ΄λΌκ³  λ¶€λ¦„.

> μ¦‰, "μ΄ ν”„λ΅μ νΈμ μΈν”„λΌ κµ¬μ„± μ „μ²΄"λ¥Ό ν•λ‚μ StackμΌλ΅ κ΄€λ¦¬ν•λ‹¤λ” κ°λ…μ΄μ•Ό.

---

### 2. **μμ΅΄μ„±κ³Ό μμ„κ°€ μλ” κµ¬μ΅°**

λ¦¬μ†μ¤λ“¤μ€ μ„λ΅ μμ΅΄μ„±μ„ κ°€μ§:

* EC2 β†’ Subnet β†’ VPC
* RDS β†’ SecurityGroup β†’ VPC

CloudFormationμ€ μ΄ μμ΅΄μ„±μ„ κ³ λ ¤ν•΄ μμ„λ€λ΅ λ¦¬μ†μ¤λ¥Ό **"μ“μ•„ μ¬λ¦¬λ“―μ΄(Stack)"** λ°°ν¬ν•κ³ ,
λ¬Έμ κ°€ μƒκΈ°λ©΄ μλ™μΌλ΅ λ΅¤λ°±κΉμ§€ ν•΄μ¤.

---

### 3. **Stack λ‹¨μ„λ΅ κ΄€λ¦¬**

* μƒμ„±(Create), μμ •(Update), μ‚­μ (Delete)λ¥Ό λ¨λ‘ Stack λ‹¨μ„λ΅ μν–‰
* μ: `MyAppStack`μ„ μ‚­μ ν•λ©΄, κ·Έ μ•μ λ¨λ“  EC2, RDS, S3 λ“±λ„ μλ™ μ‚­μ λ¨

---

### 4. **ν΄λΌμ°λ“ μ• ν”λ¦¬μΌ€μ΄μ…μ λ…Όλ¦¬μ  κµ¬μ„± λ‹¨μ„**

Stackμ€ β€μ΄ μ• ν”λ¦¬μΌ€μ΄μ…μ— ν•„μ”ν• λ¨λ“  μΈν”„λΌ λ¦¬μ†μ¤β€μ μ§‘ν•©μ΄κΈ° λ•λ¬Έμ—,
**ν΄λΌμ°λ“ μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„± λ‹¨μ„λ¥Ό λ…Όλ¦¬μ μΌλ΅ λ¬¶λ” μ—­ν• **λ„ ν•΄.

---

## π” λΉ„μ ν•μλ©΄?

> CloudFormation Stackμ€ **"λ κ³  λΈ”λ΅ μ„ΈνΈ"** κ°™μ.

* ν•λ‚μ μ„ΈνΈ(ν…ν”λ¦Ώ)λ΅ λ κ³ λ¥Ό μ΅°λ¦½(λ¦¬μ†μ¤ μƒμ„±)
* κ·Έ μ„ΈνΈλ¥Ό ν†µμ§Έλ΅ λ‹¤μ‹ λ§λ“¤ μλ„ μκ³ ,
* ν†µμ§Έλ΅ λ¶„ν•΄(μ‚­μ )λ„ κ°€λ¥

---

## β… μ •λ¦¬

| μ΄μ      | μ„¤λ…                                      |
| ------ | --------------------------------------- |
| λ¬¶μ κ΄€λ¦¬  | μ—¬λ¬ λ¦¬μ†μ¤λ¥Ό ν•λ‚μ λ‹¨μ„λ΅ λ¬¶μ–΄μ„ κ΄€λ¦¬                  |
| μμ΅΄μ„± μ²λ¦¬ | λ¦¬μ†μ¤ κ°„ μμ„λ¥Ό κ³ λ ¤ν•΄μ„ μλ™ μƒμ„±                    |
| μλ™ν™”    | μ „μ²΄ μΈν”„λΌλ¥Ό μ½”λ“λ΅ μ •μν•κ³  ν†µμ                      |
| λ°λ³µ κ°€λ¥μ„± | κ°™μ€ Stackμ„ μ—¬λ¬ ν™κ²½(dev/stage/prod)μ— μ¬μ‚¬μ© κ°€λ¥ |

---

ν•„μ”ν•λ‹¤λ©΄ "ν•λ‚μ λ¦¬μ†μ¤λ¥Ό μ—¬λ¬ Stackμ— λ„£μ„ μ μλ”κ°€?", "Stack κ°„ μ°Έμ΅°λ” μ–΄λ–»κ² ν•λ”κ°€?" κ°™μ€ κ³ κΈ‰ κ°λ…λ„ μ΄μ–΄μ„ μ„¤λ…ν•΄μ¤„ μ μμ–΄. κ¶κΈν• κ±° μμΌλ©΄ λ°”λ΅ μ΄μ–΄μ„ μ§λ¬Έν•΄μ¤.

