
# 사용 중인 모든 리소스를 왜 스택이라 부르는가?

**AWS CloudFormation에서 ‘스택(Stack)’이라고 부르는 이유**는 \*\*"서로 연관된 리소스들의 논리적인 묶음"\*\*이기 때문이야.

---

## 📌 왜 "Stack"이라고 부르는가?

### 1. **하나의 템플릿 → 여러 리소스 생성**

CloudFormation 템플릿 하나로 다음과 같이 여러 리소스를 한 번에 만들 수 있음:

* VPC
* Subnet
* Security Group
* EC2
* IAM Role
* RDS …

이렇게 한 번에 배포된 리소스 묶음을 **Stack**이라고 부름.

> 즉, "이 프로젝트의 인프라 구성 전체"를 하나의 Stack으로 관리한다는 개념이야.

---

### 2. **의존성과 순서가 있는 구조**

리소스들은 서로 의존성을 가짐:

* EC2 → Subnet → VPC
* RDS → SecurityGroup → VPC

CloudFormation은 이 의존성을 고려해 순서대로 리소스를 **"쌓아 올리듯이(Stack)"** 배포하고,
문제가 생기면 자동으로 롤백까지 해줌.

---

### 3. **Stack 단위로 관리**

* 생성(Create), 수정(Update), 삭제(Delete)를 모두 Stack 단위로 수행
* 예: `MyAppStack`을 삭제하면, 그 안의 모든 EC2, RDS, S3 등도 자동 삭제됨

---

### 4. **클라우드 애플리케이션의 논리적 구성 단위**

Stack은 “이 애플리케이션에 필요한 모든 인프라 리소스”의 집합이기 때문에,
**클라우드 애플리케이션 구성 단위를 논리적으로 묶는 역할**도 해.

---

## 🔁 비유하자면?

> CloudFormation Stack은 **"레고 블록 세트"** 같음.

* 하나의 세트(템플릿)로 레고를 조립(리소스 생성)
* 그 세트를 통째로 다시 만들 수도 있고,
* 통째로 분해(삭제)도 가능

---

## ✅ 정리

| 이유     | 설명                                      |
| ------ | --------------------------------------- |
| 묶음 관리  | 여러 리소스를 하나의 단위로 묶어서 관리                  |
| 의존성 처리 | 리소스 간 순서를 고려해서 자동 생성                    |
| 자동화    | 전체 인프라를 코드로 정의하고 통제                     |
| 반복 가능성 | 같은 Stack을 여러 환경(dev/stage/prod)에 재사용 가능 |

---

필요하다면 "하나의 리소스를 여러 Stack에 넣을 수 있는가?", "Stack 간 참조는 어떻게 하는가?" 같은 고급 개념도 이어서 설명해줄 수 있어. 궁금한 거 있으면 바로 이어서 질문해줘.