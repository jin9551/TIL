# AWS 리전과 가용영역

---

## 1. 리전(Region)

* **정의**: AWS 인프라가 위치한 **지리적 지역**.
* **구성**: 하나 이상의 **AZ**로 이루어짐.
* **예시**:

  * `ap-northeast-2` → 서울 리전
  * `us-east-1` → 버지니아 북부 리전
  * `eu-west-1` → 아일랜드 리전
* **특징**:

  * 리전마다 완전히 **물리적으로 분리**된 데이터센터 그룹.
  * 리전 간 네트워크 연결은 빠르지만, \*\*서비스 요금·지연(latency)\*\*은 거리에 따라 차이남.
  * 대부분의 AWS 서비스는 리전 단위로 생성됨 (S3 버킷, EC2 인스턴스 등).

---

## 2. 가용 영역(AZ, Availability Zone)

* **정의**: 한 리전 안에서 물리적으로 분리된 **데이터센터 클러스터**.
* **각 AZ**:

  * 별도의 전력, 냉각, 네트워크 인프라 보유.
  * 같은 리전 내 AZ들끼리는 **전용 초고속 네트워크**로 연결.
* **예시**:

  * 서울 리전(`ap-northeast-2`) → `ap-northeast-2a`, `ap-northeast-2b`, `ap-northeast-2c`
* **특징**:

  * 서로 다른 건물, 심지어 수 km 떨어져 있어 자연재해·장애 영향을 최소화.
  * 하지만 같은 리전 안이라 네트워크 지연은 수 ms 수준.

---

## 3. 리전과 AZ의 관계

```
AWS 글로벌 인프라
 ├─ 리전(Region)
 │    ├─ AZ1
 │    ├─ AZ2
 │    └─ AZ3
 ├─ 리전(Region)
 │    ├─ AZ1
 │    ├─ AZ2
 │    └─ AZ3
```

* **리전 = 지리적 범위**
* **AZ = 리전 안의 독립된 데이터센터**

---

## 4. 왜 AZ 개념이 중요한가?

1. **고가용성(HA, High Availability)**

   * 서비스를 최소 2개 이상의 AZ에 배포하면 **한쪽 장애에도 무중단 서비스** 가능.
2. **재해 복구(DR, Disaster Recovery)**

   * 다른 AZ 또는 다른 리전에 백업/복제를 두어 **복구 시간 단축**.
3. **지연(latency) 최적화**

   * 사용자가 가까운 리전을 선택하면 응답속도 개선.
4. **비용**

   * 리전 간 데이터 전송 = 과금 발생.
   * 같은 리전 내 AZ 간 전송 = 무료(단, 일부 예외 있음).

---

## 5. 실제 예시

* **서울 리전(ap-northeast-2)**

  * `ap-northeast-2a` → 강남 데이터센터(예시, 실제 위치 비공개)
  * `ap-northeast-2b` → 김포 데이터센터(예시)
  * `ap-northeast-2c` → 다른 지역 데이터센터
  * 이렇게 3개 이상의 AZ가 구성돼서, 한 곳이 정전되더라도 서비스는 나머지 AZ에서 계속 동작.

---

## 6. 주의할 점

* **AZ 코드(a, b, c)는 계정마다 매핑이 다를 수 있음**

  * 내 계정의 `ap-northeast-2a`와 다른 계정의 `ap-northeast-2a`가 실제로 같은 물리적 장소가 아닐 수 있음.
* **리전 선택은 서비스 요금과 지연시간에 직접 영향**

  * S3, EC2, RDS 같은 서비스 요금이 리전별로 다름.
* **리전 간 복제 = 데이터 전송 요금 + 지연 증가**

  * 예: 서울 ↔ 버지니아 복제는 수백 ms 지연.

---

📌 한 줄 정리

> 리전은 “도시/지역”이고, AZ는 그 지역 안의 “서로 떨어진 데이터센터 건물”입니다.
> 고가용성과 재해 복구를 위해 최소 2개 AZ에 배포하는 게 AWS 기본 설계 원칙입니다.

---

## 1. 리전 & AZ 개념 요약

* **리전(Region)** = AWS가 운영하는 **지리적 구역** (예: 서울, 도쿄, 버지니아)
* **AZ(Availability Zone)** = 리전 안에 있는 **독립된 데이터센터 묶음**
* 같은 리전 안 AZ들은 **전용 초고속 네트워크**로 연결됨

---

## 2. 배포 방식별 차이

### ① 싱글 AZ 배포

* 리전 안 **하나의 AZ**에만 서버/서비스 배치
* **장점**: 비용 저렴
* **단점**: 해당 AZ에 장애 발생 시 서비스 전체 중단

### ② 멀티 AZ 배포

* 같은 리전 안 **2개 이상의 AZ**에 동일 서비스 배치
* **장점**: 한 AZ 장애 시 나머지 AZ가 서비스 유지 (고가용성)
* **단점**: 비용 증가 (AZ 간 복제/트래픽)

### ③ 멀티 리전 배포

* **여러 리전**에 서비스 배치
* **장점**: 재해 복구(DR)와 전 세계 사용자 지연 최소화
* **단점**: 비용 높음, 데이터 동기화 복잡

---

## 3. 직관적 그림 예시

```
싱글 AZ
[서울 리전]
   └── AZ-1  [서버/DB]

멀티 AZ
[서울 리전]
   ├── AZ-1  [서버/DB]
   └── AZ-2  [서버/DB]

멀티 리전
[서울 리전]
   ├── AZ-1  [서버/DB]
   └── AZ-2  [서버/DB]
[도쿄 리전]
   ├── AZ-1  [서버/DB]
   └── AZ-2  [서버/DB]
```

